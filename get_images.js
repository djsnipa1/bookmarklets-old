javascript:(function(){s='<script type="text/javascript">function displayLink(text){str=document.getElementById("txtLinks").value;text=getImgURL(text);if(str.replace(text,"")!=str){str=str.replace(text+"\\n","");}else{str+=text+"\\n";}document.getElementById("txtLinks").value=str;} function getImgURL(txt) {i = txt.indexOf("imgurl");if (i > 0) {if (txt.indexOf("&",i) > 0) txt = txt.substring(i+7,txt.indexOf("&",i));else if (txt.indexOf("%26",i) > 0) txt = txt.substring(i+7,txt.indexOf("%26",i));}return txt;}</script><style>.width{float:left;width:23%;max-height:25%;border-style:dotted;border-width:thin;margin:2px} .width img { max-width:90%; max-height:100%; padding:5px; margin:auto; vertical-align:text-top}</style>'; s+='<div style="width:100%;position:fixed;background-color:white">Links:<br><textarea id="txtLinks" rows="10" style="width:75%"></textarea></div><div style="height:200px"></div>'; cnt = 0; for (i=0;i<document.images.length;i++) { if(document.images[i].src == '' || document.images[i].width<30 || document.images[i].height<30) continue; if(cnt++ % 4==0){s+='<div style="clear: both"></div>' };imgURL=document.images[i].src;if(document.images[i].parentNode.tagName == 'A') {refImg=decodeURIComponent(decodeURIComponent(document.images[i].parentNode.href));if(refImg.indexOf("imgurl")>0) imgURL=refImg;} s+='<div class="width"><input type="checkbox" name="chkImage" id="'+imgURL+'" onchange="displayLink(this.id)"/><img src="'+document.images[i].src+'"></div>';};if(s!=''){myWindow=window.open('',''); myWindow.document.write(s); myWindow.focus();}else{alert('No images!');}})()
